# Yazi configuration
# https://yazi-rs.github.io/docs/configuration/yazi

[mgr]
sort_by = "natural"          # Natural number sorting (like vifm's sortnumbers)
sort_reverse = false
sort_dir_first = true
sort_sensitive = false       # Case-insensitive (like vifm's ignorecase)
show_hidden = true           # Show dotfiles (like vifm's dotfiles)
linemode = "permissions"     # Show permissions in list

[preview]
max_width = 600
max_height = 900

[opener]
# Audio files - open with mpv
play_audio = [
  { run = 'mpv %s', orphan = true, for = "unix" }
]

# Video files - open with mpv in background
play_video = [
  { run = 'mpv %s &', orphan = true, for = "unix" }
]

# Image files - open with feh
view_image = [
  { run = 'feh --scale-down --auto-zoom %f &', orphan = true, for = "unix" }
]

# Text files - edit with $EDITOR
edit = [
  { run = '$EDITOR %s', block = true, for = "unix" }
]

[open]
rules = [
  # Audio files
  { mime = "audio/*", use = "play_audio" },

  # Video files
  { mime = "video/*", use = "play_video" },

  # Image files
  { mime = "image/*", use = "view_image" },

  # Text files
  { mime = "text/*", use = "edit" },
]
